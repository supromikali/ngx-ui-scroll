{"version":3,"file":"assignSettings.js","sourceRoot":"","sources":["../../../../src/component/utils/assignSettings.ts"],"names":[],"mappings":"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","sourcesContent":["import { Settings as _ISettings, DevSettings as _IDevSettings } from '../interfaces/index';\r\nimport { Settings } from '../classes/settings';\r\n\r\ntype ISettings = _ISettings | _IDevSettings;\r\n\r\nconst assignBoolean = (\r\n  target: Settings, source: ISettings, token: string, defaults: ISettings\r\n) => {\r\n  const param = (<any>source)[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'boolean') {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  (<any>target)[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignNumeric = (\r\n  target: Settings, source: ISettings, token: string, defaults: ISettings, integer = false\r\n) => {\r\n  const param = (<any>source)[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'number') {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  if (integer && parseInt(param.toString(), 10) !== param) {\r\n    console.warn(token + ' setting parse error, set it to ' + (<any>defaults)[token] + ' (default)');\r\n    return;\r\n  }\r\n  (<any>target)[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignMinimalNumeric = (\r\n  target: Settings,\r\n  source: ISettings,\r\n  token: string,\r\n  defaults: ISettings,\r\n  minSettings: ISettings,\r\n  integer = false,\r\n  mustExist = true\r\n) => {\r\n  if (assignNumeric(target, source, token, defaults, integer) !== true) {\r\n    if (!mustExist) {\r\n      return;\r\n    }\r\n  }\r\n  if ((<any>target)[token] < (<any>minSettings)[token]) {\r\n    console.warn(token + ' setting is less than minimum, set it to ' + (<any>minSettings)[token]);\r\n    (<any>target)[token] = (<any>minSettings)[token];\r\n    return;\r\n  }\r\n  return true;\r\n};\r\n\r\nconst assignCommon = (target: Settings, settings: ISettings, defaults: ISettings) => {\r\n  Object.assign(target, defaults);\r\n  if (typeof settings === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof settings !== 'object') {\r\n    console.warn('settings is not an object, fallback to the defaults');\r\n    return;\r\n  }\r\n};\r\n\r\nexport const assignSettings = (\r\n  target: Settings, settings: _ISettings, defaults: _ISettings, minSettings: _ISettings\r\n) => {\r\n  assignCommon(target, settings, defaults);\r\n  assignBoolean(target, settings, 'adapter', defaults);\r\n  assignNumeric(target, settings, 'startIndex', defaults);\r\n  assignNumeric(target, settings, 'minIndex', defaults);\r\n  assignNumeric(target, settings, 'maxIndex', defaults);\r\n  assignMinimalNumeric(target, settings, 'itemSize', defaults, minSettings, true, false);\r\n  assignMinimalNumeric(target, settings, 'bufferSize', defaults, minSettings, true);\r\n  assignMinimalNumeric(target, settings, 'padding', defaults, minSettings);\r\n  assignBoolean(target, settings, 'infinite', defaults);\r\n  assignBoolean(target, settings, 'horizontal', defaults);\r\n  assignBoolean(target, settings, 'windowViewport', defaults);\r\n};\r\n\r\nexport const assignDevSettings = (\r\n  target: Settings, devSettings: _IDevSettings, defaults: _IDevSettings, minDevSettings: _IDevSettings\r\n) => {\r\n  assignCommon(target, devSettings, defaults);\r\n  assignBoolean(target, devSettings, 'debug', defaults);\r\n  assignBoolean(target, devSettings, 'immediateLog', defaults);\r\n  assignBoolean(target, devSettings, 'logTime', defaults);\r\n  assignMinimalNumeric(target, devSettings, 'throttle', defaults, minDevSettings, true);\r\n  assignBoolean(target, devSettings, 'inertia', defaults);\r\n  assignMinimalNumeric(target, devSettings, 'inertiaScrollDelay', defaults, minDevSettings, true);\r\n  assignMinimalNumeric(target, devSettings, 'inertiaScrollDelta', defaults, minDevSettings, true);\r\n  assignMinimalNumeric(target, devSettings, 'initDelay', defaults, minDevSettings, true);\r\n  assignMinimalNumeric(target, devSettings, 'initWindowDelay', defaults, minDevSettings, true);\r\n  assignMinimalNumeric(target, devSettings, 'maxSynthScrollDelay', defaults, minDevSettings, true);\r\n};\r\n"]}